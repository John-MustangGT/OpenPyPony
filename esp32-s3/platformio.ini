; PlatformIO Project Configuration File
; OpenPonyLogger ESP32-S3 Implementation
;
; Board: Adafruit ESP32-S3 Feather Reverse TFT
; Framework: Arduino (ESP-IDF under the hood)

[env:adafruit_feather_esp32s3_reversetft]
platform = espressif32
board = adafruit_feather_esp32s3_reversetft
framework = arduino

; Build flags
build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DOPENPONY_VERSION=\"2.0.0-esp32s3\"

; Serial monitor settings
monitor_speed = 115200
monitor_filters =
    esp32_exception_decoder
    time
    colorize

; Upload settings
upload_speed = 921600

; Dependencies
lib_deps =
    ; Core libraries
    Wire
    SPI
    WiFi
    WebServer

    ; Sensor libraries
    adafruit/Adafruit GPS Library @ ^1.7.4
    adafruit/Adafruit ICM20X @ ^2.0.5
    adafruit/Adafruit Unified Sensor @ ^1.1.14

    ; Display library (built-in TFT)
    adafruit/Adafruit GFX Library @ ^1.11.9
    adafruit/Adafruit ST7789 and ST7735 Library @ ^1.10.3

    ; SD card
    ; SD library is built-in to Arduino ESP32

    ; WebSocket server
    links2004/WebSockets @ ^2.4.1

    ; JSON parsing/serialization
    bblanchon/ArduinoJson @ ^6.21.4

    ; BLE for OBD2 (future)
    ; h2zero/NimBLE-Arduino @ ^1.4.1

; Partition scheme for more app space
board_build.partitions = default_16MB.csv

; PSRAM configuration
board_build.arduino.memory_type = qio_opi

; Optimization
build_type = release
